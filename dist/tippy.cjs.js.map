{"version":3,"file":"tippy.cjs.js","sources":["../src/addons/createSingleton.ts","../src/addons/delegate.ts","../src/plugins/animateFill.ts","../src/plugins/followCursor.ts","../src/plugins/inlinePositioning.ts","../src/plugins/sticky.ts"],"sourcesContent":["import {Instance, CreateSingleton, Plugin} from '../types';\r\nimport tippy from '..';\r\nimport {defaultProps} from '../props';\r\nimport {errorWhen} from '../validation';\r\nimport {div} from '../utils';\r\n\r\n/**\r\n * Re-uses a single tippy element for many different tippy instances.\r\n * Replaces v4's `tippy.group()`.\r\n */\r\nconst createSingleton: CreateSingleton = (\r\n  tippyInstances,\r\n  optionalProps = {},\r\n  /** @deprecated use Props.plugins */\r\n  plugins = [],\r\n) => {\r\n  if (__DEV__) {\r\n    errorWhen(\r\n      !Array.isArray(tippyInstances),\r\n      [\r\n        'The first argument passed to createSingleton() must be an array of tippy',\r\n        'instances. The passed value was',\r\n        String(tippyInstances),\r\n      ].join(' '),\r\n    );\r\n  }\r\n\r\n  plugins = optionalProps.plugins || plugins;\r\n\r\n  tippyInstances.forEach(instance => {\r\n    instance.disable();\r\n  });\r\n\r\n  let userAria = {...defaultProps, ...optionalProps}.aria;\r\n  let currentAria: string | null | undefined;\r\n  let currentTarget: Element;\r\n  let shouldSkipUpdate = false;\r\n\r\n  const references = tippyInstances.map(instance => instance.reference);\r\n\r\n  const singleton: Plugin = {\r\n    fn(instance) {\r\n      function handleAriaDescribedByAttribute(isShow: boolean): void {\r\n        if (!currentAria) {\r\n          return;\r\n        }\r\n\r\n        const attr = `aria-${currentAria}`;\r\n\r\n        if (isShow && !instance.props.interactive) {\r\n          currentTarget.setAttribute(attr, instance.popperChildren.tooltip.id);\r\n        } else {\r\n          currentTarget.removeAttribute(attr);\r\n        }\r\n      }\r\n\r\n      return {\r\n        onAfterUpdate(_, {aria}): void {\r\n          // Ensure `aria` for the singleton instance stays `null`, while\r\n          // changing the `userAria` value\r\n          if (aria !== undefined && aria !== userAria) {\r\n            if (!shouldSkipUpdate) {\r\n              userAria = aria;\r\n            } else {\r\n              shouldSkipUpdate = true;\r\n              instance.setProps({aria: null});\r\n              shouldSkipUpdate = false;\r\n            }\r\n          }\r\n        },\r\n        onDestroy(): void {\r\n          tippyInstances.forEach(instance => {\r\n            instance.enable();\r\n          });\r\n        },\r\n        onMount(): void {\r\n          handleAriaDescribedByAttribute(true);\r\n        },\r\n        onUntrigger(): void {\r\n          handleAriaDescribedByAttribute(false);\r\n        },\r\n        onTrigger(_, event): void {\r\n          const target = event.currentTarget as Element;\r\n          const index = references.indexOf(target);\r\n\r\n          // bail-out\r\n          if (target === currentTarget) {\r\n            return;\r\n          }\r\n\r\n          currentTarget = target;\r\n          currentAria = userAria;\r\n\r\n          if (instance.state.isVisible) {\r\n            handleAriaDescribedByAttribute(true);\r\n          }\r\n\r\n          instance.popperInstance!.reference = target;\r\n\r\n          instance.setContent(tippyInstances[index].props.content);\r\n        },\r\n      };\r\n    },\r\n  };\r\n\r\n  return tippy(div(), {\r\n    ...optionalProps,\r\n    plugins: [singleton, ...plugins],\r\n    aria: null,\r\n    triggerTarget: references,\r\n  }) as Instance;\r\n};\r\n\r\nexport default createSingleton;\r\n","import {Instance, Targets, Plugin, Props} from '../types';\r\nimport tippy from '..';\r\nimport {errorWhen} from '../validation';\r\nimport {removeProperties, normalizeToArray, includes} from '../utils';\r\nimport {defaultProps} from '../props';\r\nimport {ListenerObject} from '../types-internal';\r\n\r\nconst BUBBLING_EVENTS_MAP = {\r\n  mouseover: 'mouseenter',\r\n  focusin: 'focus',\r\n  click: 'click',\r\n};\r\n\r\n/**\r\n * Creates a delegate instance that controls the creation of tippy instances\r\n * for child elements (`target` CSS selector).\r\n */\r\nfunction delegate(\r\n  targets: Targets,\r\n  props: Partial<Props> & {target: string},\r\n  /** @deprecated use Props.plugins */\r\n  plugins: Plugin[] = [],\r\n): Instance | Instance[] {\r\n  if (__DEV__) {\r\n    errorWhen(\r\n      !(props && props.target),\r\n      [\r\n        'You must specity a `target` prop indicating a CSS selector string matching',\r\n        'the target elements that should receive a tippy.',\r\n      ].join(' '),\r\n    );\r\n  }\r\n\r\n  plugins = props.plugins || plugins;\r\n\r\n  let listeners: ListenerObject[] = [];\r\n  let childTippyInstances: Instance[] = [];\r\n\r\n  const {target} = props;\r\n\r\n  const nativeProps = removeProperties(props, ['target']);\r\n  const parentProps = {...nativeProps, plugins, trigger: 'manual'};\r\n  const childProps = {...nativeProps, plugins, showOnCreate: true};\r\n\r\n  const returnValue = tippy(targets, parentProps);\r\n  const normalizedReturnValue = normalizeToArray(returnValue);\r\n\r\n  function onTrigger(event: Event): void {\r\n    if (!event.target) {\r\n      return;\r\n    }\r\n\r\n    const targetNode = (event.target as Element).closest(target);\r\n\r\n    if (!targetNode) {\r\n      return;\r\n    }\r\n\r\n    // Get relevant trigger with fallbacks:\r\n    // 1. Check `data-tippy-trigger` attribute on target node\r\n    // 2. Fallback to `trigger` passed to `delegate()`\r\n    // 3. Fallback to `defaultProps.trigger`\r\n    const trigger =\r\n      targetNode.getAttribute('data-tippy-trigger') ||\r\n      props.trigger ||\r\n      defaultProps.trigger;\r\n\r\n    // Only create the instance if the bubbling event matches the trigger type\r\n    if (!includes(trigger, (BUBBLING_EVENTS_MAP as any)[event.type])) {\r\n      return;\r\n    }\r\n\r\n    const instance = tippy(targetNode, childProps);\r\n\r\n    if (instance) {\r\n      childTippyInstances = childTippyInstances.concat(instance);\r\n    }\r\n  }\r\n\r\n  function on(\r\n    node: Element,\r\n    eventType: string,\r\n    handler: EventListener,\r\n    options: object | boolean = false,\r\n  ): void {\r\n    node.addEventListener(eventType, handler, options);\r\n    listeners.push({node, eventType, handler, options});\r\n  }\r\n\r\n  function addEventListeners(instance: Instance): void {\r\n    const {reference} = instance;\r\n\r\n    on(reference, 'mouseover', onTrigger);\r\n    on(reference, 'focusin', onTrigger);\r\n    on(reference, 'click', onTrigger);\r\n  }\r\n\r\n  function removeEventListeners(): void {\r\n    listeners.forEach(({node, eventType, handler, options}: ListenerObject) => {\r\n      node.removeEventListener(eventType, handler, options);\r\n    });\r\n    listeners = [];\r\n  }\r\n\r\n  function applyMutations(instance: Instance): void {\r\n    const originalDestroy = instance.destroy;\r\n    instance.destroy = (shouldDestroyChildInstances = true): void => {\r\n      if (shouldDestroyChildInstances) {\r\n        childTippyInstances.forEach(instance => {\r\n          instance.destroy();\r\n        });\r\n      }\r\n\r\n      childTippyInstances = [];\r\n\r\n      removeEventListeners();\r\n      originalDestroy();\r\n    };\r\n\r\n    addEventListeners(instance);\r\n  }\r\n\r\n  normalizedReturnValue.forEach(applyMutations);\r\n\r\n  return returnValue;\r\n}\r\n\r\nexport default delegate;\r\n","import {AnimateFill} from '../types';\r\nimport {BACKDROP_CLASS} from '../constants';\r\nimport {div, setVisibilityState} from '../utils';\r\nimport {isUCBrowser} from '../browser';\r\nimport {warnWhen} from '../validation';\r\n\r\nconst animateFill: AnimateFill = {\r\n  name: 'animateFill',\r\n  defaultValue: false,\r\n  fn(instance) {\r\n    const {tooltip, content} = instance.popperChildren;\r\n\r\n    const backdrop =\r\n      instance.props.animateFill && !isUCBrowser\r\n        ? createBackdropElement()\r\n        : null;\r\n\r\n    function addBackdropToPopperChildren(): void {\r\n      instance.popperChildren.backdrop = backdrop;\r\n    }\r\n\r\n    return {\r\n      onCreate(): void {\r\n        if (backdrop) {\r\n          addBackdropToPopperChildren();\r\n\r\n          tooltip.insertBefore(backdrop, tooltip.firstElementChild!);\r\n          tooltip.setAttribute('data-animatefill', '');\r\n          tooltip.style.overflow = 'hidden';\r\n\r\n          instance.setProps({animation: 'shift-away', arrow: false});\r\n        }\r\n      },\r\n      onMount(): void {\r\n        if (backdrop) {\r\n          const {transitionDuration} = tooltip.style;\r\n          const duration = Number(transitionDuration.replace('ms', ''));\r\n\r\n          // The content should fade in after the backdrop has mostly filled the\r\n          // tooltip element. `clip-path` is the other alternative but is not\r\n          // well-supported and is buggy on some devices.\r\n          content.style.transitionDelay = `${Math.round(duration / 10)}ms`;\r\n\r\n          backdrop.style.transitionDuration = transitionDuration;\r\n          setVisibilityState([backdrop], 'visible');\r\n\r\n          // Warn if the stylesheets are not loaded\r\n          if (__DEV__) {\r\n            warnWhen(\r\n              getComputedStyle(backdrop).position !== 'absolute',\r\n              `The \\`tippy.js/dist/backdrop.css\\` stylesheet has not been\r\n              imported!\r\n              \r\n              The \\`animateFill\\` plugin requires this stylesheet to work.`,\r\n            );\r\n\r\n            warnWhen(\r\n              getComputedStyle(tooltip).transform === 'none',\r\n              `The \\`tippy.js/animations/shift-away.css\\` stylesheet has not\r\n              been imported!\r\n              \r\n              The \\`animateFill\\` plugin requires this stylesheet to work.`,\r\n            );\r\n          }\r\n        }\r\n      },\r\n      onShow(): void {\r\n        if (backdrop) {\r\n          backdrop.style.transitionDuration = '0ms';\r\n        }\r\n      },\r\n      onHide(): void {\r\n        if (backdrop) {\r\n          setVisibilityState([backdrop], 'hidden');\r\n        }\r\n      },\r\n      onAfterUpdate(): void {\r\n        // With this type of prop, it's highly unlikely it will be changed\r\n        // dynamically. We'll leave out the diff/update logic it to save bytes.\r\n\r\n        // `popperChildren` is assigned a new object onAfterUpdate\r\n        addBackdropToPopperChildren();\r\n      },\r\n    };\r\n  },\r\n};\r\n\r\nexport default animateFill;\r\n\r\nfunction createBackdropElement(): HTMLDivElement {\r\n  const backdrop = div();\r\n  backdrop.className = BACKDROP_CLASS;\r\n  setVisibilityState([backdrop], 'hidden');\r\n  return backdrop;\r\n}\r\n","import {\r\n  PopperElement,\r\n  Placement,\r\n  FollowCursor,\r\n  Props,\r\n  ReferenceElement,\r\n} from '../types';\r\nimport {\r\n  includes,\r\n  closestCallback,\r\n  useIfDefined,\r\n  isMouseEvent,\r\n  getOwnerDocument,\r\n} from '../utils';\r\nimport {getBasePlacement} from '../popper';\r\nimport {currentInput} from '../bindGlobalEventListeners';\r\nimport Popper from 'popper.js';\r\n\r\nconst followCursor: FollowCursor = {\r\n  name: 'followCursor',\r\n  defaultValue: false,\r\n  fn(instance) {\r\n    const {reference, popper} = instance;\r\n\r\n    let originalReference:\r\n      | ReferenceElement\r\n      | Popper.ReferenceObject\r\n      | null = null;\r\n\r\n    // Support iframe contexts\r\n    // Static check that assumes any of the `triggerTarget` or `reference`\r\n    // nodes will never change documents, even when they are updated\r\n    const doc = getOwnerDocument(instance.props.triggerTarget || reference);\r\n\r\n    // Internal state\r\n    let lastMouseMoveEvent: MouseEvent;\r\n    let mouseCoords: {clientX: number; clientY: number} | null = null;\r\n    let isInternallySettingControlledProp = false;\r\n\r\n    // These are controlled by this plugin, so we need to store the user's\r\n    // original prop value\r\n    const userProps = instance.props;\r\n\r\n    function setUserProps(props: Partial<Props>): void {\r\n      const keys = Object.keys(props) as Array<keyof Props>;\r\n      keys.forEach(prop => {\r\n        (userProps as any)[prop] = useIfDefined(props[prop], userProps[prop]);\r\n      });\r\n    }\r\n\r\n    function getIsManual(): boolean {\r\n      return instance.props.trigger.trim() === 'manual';\r\n    }\r\n\r\n    function getIsEnabled(): boolean {\r\n      // #597\r\n      const isValidMouseEvent = getIsManual()\r\n        ? true\r\n        : // Check if a keyboard \"click\"\r\n          mouseCoords !== null &&\r\n          !(mouseCoords.clientX === 0 && mouseCoords.clientY === 0);\r\n\r\n      return instance.props.followCursor && isValidMouseEvent;\r\n    }\r\n\r\n    function getIsInitialBehavior(): boolean {\r\n      return (\r\n        currentInput.isTouch ||\r\n        (instance.props.followCursor === 'initial' && instance.state.isVisible)\r\n      );\r\n    }\r\n\r\n    function resetReference(): void {\r\n      if (instance.popperInstance && originalReference) {\r\n        instance.popperInstance.reference = originalReference;\r\n      }\r\n    }\r\n\r\n    function handlePlacement(): void {\r\n      // Due to `getVirtualOffsets()`, we need to reverse the placement if it's\r\n      // shifted (start -> end, and vice-versa)\r\n\r\n      // Early bail-out\r\n      if (!getIsEnabled() && instance.props.placement === userProps.placement) {\r\n        return;\r\n      }\r\n\r\n      const {placement} = userProps;\r\n      const shift = placement.split('-')[1];\r\n\r\n      isInternallySettingControlledProp = true;\r\n\r\n      instance.setProps({\r\n        placement: (getIsEnabled() && shift\r\n          ? placement.replace(shift, shift === 'start' ? 'end' : 'start')\r\n          : placement) as Placement,\r\n      });\r\n\r\n      isInternallySettingControlledProp = false;\r\n    }\r\n\r\n    function handlePopperListeners(): void {\r\n      if (!instance.popperInstance) {\r\n        return;\r\n      }\r\n\r\n      // Popper's scroll listeners make sense for `true` only. TODO: work out\r\n      // how to only listen horizontal scroll for \"horizontal\" and vertical\r\n      // scroll for \"vertical\"\r\n      if (\r\n        getIsEnabled() &&\r\n        (getIsInitialBehavior() || instance.props.followCursor !== true)\r\n      ) {\r\n        instance.popperInstance.disableEventListeners();\r\n      }\r\n    }\r\n\r\n    function handleMouseMoveListener(): void {\r\n      if (getIsEnabled()) {\r\n        addListener();\r\n      } else {\r\n        resetReference();\r\n      }\r\n    }\r\n\r\n    function triggerLastMouseMove(): void {\r\n      if (getIsEnabled()) {\r\n        onMouseMove(lastMouseMoveEvent);\r\n      }\r\n    }\r\n\r\n    function addListener(): void {\r\n      doc.addEventListener('mousemove', onMouseMove);\r\n    }\r\n\r\n    function removeListener(): void {\r\n      doc.removeEventListener('mousemove', onMouseMove);\r\n    }\r\n\r\n    function onMouseMove(event: MouseEvent): void {\r\n      const {clientX, clientY} = (lastMouseMoveEvent = event);\r\n\r\n      if (!instance.popperInstance || !instance.state.currentPlacement) {\r\n        return;\r\n      }\r\n\r\n      // If the instance is interactive, avoid updating the position unless it's\r\n      // over the reference element\r\n      const isCursorOverReference = closestCallback(\r\n        event.target as Element,\r\n        (el: Element) => el === reference,\r\n      );\r\n\r\n      const rect = reference.getBoundingClientRect();\r\n      const {followCursor} = instance.props;\r\n      const isHorizontal = followCursor === 'horizontal';\r\n      const isVertical = followCursor === 'vertical';\r\n      const isVerticalPlacement = includes(\r\n        ['top', 'bottom'],\r\n        getBasePlacement(instance.state.currentPlacement),\r\n      );\r\n\r\n      // The virtual reference needs some size to prevent itself from overflowing\r\n      const {size, x, y} = getVirtualOffsets(popper, isVerticalPlacement);\r\n\r\n      if (isCursorOverReference || !instance.props.interactive) {\r\n        // Preserve custom position ReferenceObjects, which may not be the\r\n        // original targets reference passed as an argument\r\n        if (originalReference === null) {\r\n          originalReference = instance.popperInstance.reference;\r\n        }\r\n\r\n        instance.popperInstance.reference = {\r\n          referenceNode: reference,\r\n          // These `client` values don't get used by Popper.js if they are 0\r\n          clientWidth: 0,\r\n          clientHeight: 0,\r\n          getBoundingClientRect: (): DOMRect | ClientRect => ({\r\n            width: isVerticalPlacement ? size : 0,\r\n            height: isVerticalPlacement ? 0 : size,\r\n            top: (isHorizontal ? rect.top : clientY) - y,\r\n            bottom: (isHorizontal ? rect.bottom : clientY) + y,\r\n            left: (isVertical ? rect.left : clientX) - x,\r\n            right: (isVertical ? rect.right : clientX) + x,\r\n          }),\r\n        };\r\n\r\n        instance.popperInstance.update();\r\n      }\r\n\r\n      if (getIsInitialBehavior()) {\r\n        removeListener();\r\n      }\r\n    }\r\n\r\n    return {\r\n      onAfterUpdate(_, partialProps): void {\r\n        if (!isInternallySettingControlledProp) {\r\n          setUserProps(partialProps);\r\n\r\n          if (partialProps.placement) {\r\n            handlePlacement();\r\n          }\r\n        }\r\n\r\n        // A new placement causes the popperInstance to be recreated\r\n        if (partialProps.placement) {\r\n          handlePopperListeners();\r\n        }\r\n\r\n        // Wait for `.update()` to set `instance.state.currentPlacement` to\r\n        // the new placement\r\n        requestAnimationFrame(triggerLastMouseMove);\r\n      },\r\n      onMount(): void {\r\n        triggerLastMouseMove();\r\n        handlePopperListeners();\r\n      },\r\n      onShow(): void {\r\n        if (getIsManual()) {\r\n          // Since there's no trigger event to use, we have to use these as\r\n          // baseline coords\r\n          mouseCoords = {clientX: 0, clientY: 0};\r\n          // Ensure `lastMouseMoveEvent` doesn't access any other properties\r\n          // of a MouseEvent here\r\n          lastMouseMoveEvent = mouseCoords as MouseEvent;\r\n\r\n          handlePlacement();\r\n          handleMouseMoveListener();\r\n        }\r\n      },\r\n      onTrigger(_, event): void {\r\n        // Tapping on touch devices can trigger `mouseenter` then `focus`\r\n        if (mouseCoords) {\r\n          return;\r\n        }\r\n\r\n        if (isMouseEvent(event)) {\r\n          mouseCoords = {clientX: event.clientX, clientY: event.clientY};\r\n          lastMouseMoveEvent = event;\r\n        }\r\n\r\n        handlePlacement();\r\n        handleMouseMoveListener();\r\n      },\r\n      onUntrigger(): void {\r\n        // If untriggered before showing (`onHidden` will never be invoked)\r\n        if (!instance.state.isVisible) {\r\n          removeListener();\r\n          mouseCoords = null;\r\n        }\r\n      },\r\n      onHidden(): void {\r\n        removeListener();\r\n        resetReference();\r\n        mouseCoords = null;\r\n      },\r\n    };\r\n  },\r\n};\r\n\r\nexport default followCursor;\r\n\r\nexport function getVirtualOffsets(\r\n  popper: PopperElement,\r\n  isVerticalPlacement: boolean,\r\n): {\r\n  size: number;\r\n  x: number;\r\n  y: number;\r\n} {\r\n  const size = isVerticalPlacement ? popper.offsetWidth : popper.offsetHeight;\r\n\r\n  return {\r\n    size,\r\n    x: isVerticalPlacement ? size : 0,\r\n    y: isVerticalPlacement ? 0 : size,\r\n  };\r\n}\r\n","import {InlinePositioning, BasePlacement} from '../types';\r\nimport {arrayFrom} from '../utils';\r\nimport {getBasePlacement} from '../popper';\r\n\r\n// TODO: Work on a \"cursor\" value so it chooses a rect optimal to the cursor\r\n// position. This will require the `followCursor` plugin's fixes for overflow\r\n// due to using event.clientX/Y values. (normalizedPlacement, getVirtualOffsets)\r\nconst inlinePositioning: InlinePositioning = {\r\n  name: 'inlinePositioning',\r\n  defaultValue: false,\r\n  fn(instance) {\r\n    const {reference} = instance;\r\n\r\n    function getIsEnabled(): boolean {\r\n      return !!instance.props.inlinePositioning;\r\n    }\r\n\r\n    return {\r\n      onHidden(): void {\r\n        if (getIsEnabled()) {\r\n          instance.popperInstance!.reference = reference;\r\n        }\r\n      },\r\n      onShow(): void {\r\n        if (!getIsEnabled()) {\r\n          return;\r\n        }\r\n\r\n        instance.popperInstance!.reference = {\r\n          referenceNode: reference,\r\n          // These `client` values don't get used by Popper.js if they are 0\r\n          clientWidth: 0,\r\n          clientHeight: 0,\r\n          getBoundingClientRect(): ClientRect | DOMRect {\r\n            return getInlineBoundingClientRect(\r\n              instance.state.currentPlacement &&\r\n                getBasePlacement(instance.state.currentPlacement),\r\n              reference.getBoundingClientRect(),\r\n              arrayFrom(reference.getClientRects()),\r\n            );\r\n          },\r\n        };\r\n      },\r\n    };\r\n  },\r\n};\r\n\r\nexport default inlinePositioning;\r\n\r\nexport function getInlineBoundingClientRect(\r\n  currentBasePlacement: BasePlacement | null,\r\n  boundingRect: ClientRect,\r\n  clientRects: ClientRect[],\r\n): ClientRect {\r\n  // Not an inline element, or placement is not yet known\r\n  if (clientRects.length < 2 || currentBasePlacement === null) {\r\n    return boundingRect;\r\n  }\r\n\r\n  switch (currentBasePlacement) {\r\n    case 'top':\r\n    case 'bottom': {\r\n      const firstRect = clientRects[0];\r\n      const lastRect = clientRects[clientRects.length - 1];\r\n      const isTop = currentBasePlacement === 'top';\r\n\r\n      const top = firstRect.top;\r\n      const bottom = lastRect.bottom;\r\n      const left = isTop ? firstRect.left : lastRect.left;\r\n      const right = isTop ? firstRect.right : lastRect.right;\r\n      const width = right - left;\r\n      const height = bottom - top;\r\n\r\n      return {top, bottom, left, right, width, height};\r\n    }\r\n    case 'left':\r\n    case 'right': {\r\n      const minLeft = Math.min(...clientRects.map(rects => rects.left));\r\n      const maxRight = Math.max(...clientRects.map(rects => rects.right));\r\n      const measureRects = clientRects.filter(rect =>\r\n        currentBasePlacement === 'left'\r\n          ? rect.left === minLeft\r\n          : rect.right === maxRight,\r\n      );\r\n\r\n      const top = measureRects[0].top;\r\n      const bottom = measureRects[measureRects.length - 1].bottom;\r\n      const left = minLeft;\r\n      const right = maxRight;\r\n      const width = right - left;\r\n      const height = bottom - top;\r\n\r\n      return {top, bottom, left, right, width, height};\r\n    }\r\n    default: {\r\n      return boundingRect;\r\n    }\r\n  }\r\n}\r\n","import {Sticky, ReferenceElement} from '../types';\r\nimport Popper from 'popper.js';\r\n\r\nconst sticky: Sticky = {\r\n  name: 'sticky',\r\n  defaultValue: false,\r\n  fn(instance) {\r\n    const {reference, popper} = instance;\r\n\r\n    function getReference(): ReferenceElement | Popper.ReferenceObject {\r\n      return instance.popperInstance\r\n        ? instance.popperInstance.reference\r\n        : reference;\r\n    }\r\n\r\n    function shouldCheck(value: 'reference' | 'popper'): boolean {\r\n      return instance.props.sticky === true || instance.props.sticky === value;\r\n    }\r\n\r\n    let prevRefRect: ClientRect | null = null;\r\n    let prevPopRect: ClientRect | null = null;\r\n\r\n    function updatePosition(): void {\r\n      const currentRefRect = shouldCheck('reference')\r\n        ? getReference().getBoundingClientRect()\r\n        : null;\r\n      const currentPopRect = shouldCheck('popper')\r\n        ? popper.getBoundingClientRect()\r\n        : null;\r\n\r\n      if (\r\n        (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect)) ||\r\n        (currentPopRect && areRectsDifferent(prevPopRect, currentPopRect))\r\n      ) {\r\n        instance.popperInstance!.update();\r\n      }\r\n\r\n      prevRefRect = currentRefRect;\r\n      prevPopRect = currentPopRect;\r\n\r\n      if (instance.state.isMounted) {\r\n        requestAnimationFrame(updatePosition);\r\n      }\r\n    }\r\n\r\n    return {\r\n      onMount(): void {\r\n        if (instance.props.sticky) {\r\n          updatePosition();\r\n        }\r\n      },\r\n    };\r\n  },\r\n};\r\n\r\nexport default sticky;\r\n\r\nfunction areRectsDifferent(\r\n  rectA: ClientRect | null,\r\n  rectB: ClientRect | null,\r\n): boolean {\r\n  if (rectA && rectB) {\r\n    return (\r\n      rectA.top !== rectB.top ||\r\n      rectA.right !== rectB.right ||\r\n      rectA.bottom !== rectB.bottom ||\r\n      rectA.left !== rectB.left\r\n    );\r\n  }\r\n\r\n  return true;\r\n}\r\n"],"names":["createSingleton","tippyInstances","optionalProps","plugins","errorWhen","Array","isArray","String","join","forEach","instance","disable","userAria","_extends","defaultProps","aria","currentAria","currentTarget","shouldSkipUpdate","references","map","reference","singleton","fn","handleAriaDescribedByAttribute","isShow","attr","props","interactive","setAttribute","popperChildren","tooltip","id","removeAttribute","onAfterUpdate","_","undefined","setProps","onDestroy","enable","onMount","onUntrigger","onTrigger","event","target","index","indexOf","state","isVisible","popperInstance","setContent","content","tippy","div","triggerTarget","BUBBLING_EVENTS_MAP","mouseover","focusin","click","delegate","targets","listeners","childTippyInstances","nativeProps","removeProperties","parentProps","trigger","childProps","showOnCreate","returnValue","normalizedReturnValue","normalizeToArray","targetNode","closest","getAttribute","includes","type","concat","on","node","eventType","handler","options","addEventListener","push","addEventListeners","removeEventListeners","removeEventListener","applyMutations","originalDestroy","destroy","shouldDestroyChildInstances","animateFill","name","defaultValue","backdrop","isUCBrowser","createBackdropElement","addBackdropToPopperChildren","onCreate","insertBefore","firstElementChild","style","overflow","animation","arrow","transitionDuration","duration","Number","replace","transitionDelay","Math","round","setVisibilityState","warnWhen","getComputedStyle","position","transform","onShow","onHide","className","BACKDROP_CLASS","followCursor","popper","originalReference","doc","getOwnerDocument","lastMouseMoveEvent","mouseCoords","isInternallySettingControlledProp","userProps","setUserProps","keys","Object","prop","useIfDefined","getIsManual","trim","getIsEnabled","isValidMouseEvent","clientX","clientY","getIsInitialBehavior","currentInput","isTouch","resetReference","handlePlacement","placement","shift","split","handlePopperListeners","disableEventListeners","handleMouseMoveListener","addListener","triggerLastMouseMove","onMouseMove","removeListener","currentPlacement","isCursorOverReference","closestCallback","el","rect","getBoundingClientRect","isHorizontal","isVertical","isVerticalPlacement","getBasePlacement","getVirtualOffsets","size","x","y","referenceNode","clientWidth","clientHeight","width","height","top","bottom","left","right","update","partialProps","requestAnimationFrame","isMouseEvent","onHidden","offsetWidth","offsetHeight","inlinePositioning","getInlineBoundingClientRect","arrayFrom","getClientRects","currentBasePlacement","boundingRect","clientRects","length","firstRect","lastRect","isTop","minLeft","min","rects","maxRight","max","measureRects","filter","sticky","getReference","shouldCheck","value","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","areRectsDifferent","isMounted","rectA","rectB"],"mappings":"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"}